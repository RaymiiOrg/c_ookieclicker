set(LIBRARY Game)

file(GLOB_RECURSE SOURCES LIST_DIRECTORIES true *.h *.cpp)

set(SOURCES ${SOURCES})

add_library(${LIBRARY} STATIC ${SOURCES})

target_link_libraries(${LIBRARY} PUBLIC
        ${CURSES_LIBRARY}
        Commands
        Wallet
        Store
        gtest
        )
target_link_libraries(${LIBRARY} PUBLIC stdc++fs)

target_include_directories(${LIBRARY} PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})

add_executable(${LIBRARY}.exe ${SOURCES})
target_link_libraries(${LIBRARY}.exe PUBLIC
        ${CURSES_LIBRARY}
        Commands
        Wallet
        Store)
target_link_libraries(${LIBRARY}.exe PUBLIC stdc++fs)
target_include_directories(${LIBRARY}.exe PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})


if(Boost_FOUND)
    target_link_libraries (${LIBRARY} ${Boost_LIBRARIES})
    target_link_libraries (${LIBRARY}.exe ${Boost_LIBRARIES})
else()
    message(FATAL_ERROR "Boost not found!")
endif()

MESSAGE("-- Loaded ${LIBRARY}")
MESSAGE("-- Executable: ${LIBRARY}.exe")